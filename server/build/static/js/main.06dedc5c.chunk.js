(this["webpackJsonptrello-clone"]=this["webpackJsonptrello-clone"]||[]).push([[0],{106:function(e,t,a){},107:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=a(3),o=a(9),i=a(66),d=a(4);const u={header:"Boards",loginView:"landing",menuShrink:!1,isFetching:!1};var m=(e=u,t)=>{switch(t.type){case"TOGGLE_MENU":return Object(d.a)({},e,{menuShrink:!e.menuShrink});case"SET_HEADER":{const a=t.payLoad.header;return Object(d.a)({},e,{header:a})}case"SET_LOGIN":{const a=t.payLoad.view;return Object(d.a)({},e,{loginView:a})}case"SET_LOADING":{const a=t.payLoad.isFetching;return Object(d.a)({},e,{isFetching:a})}default:return e}},p=a(6);var E=(e={lists:[]},t)=>{switch(t.type){case"ADD_LIST":{const a=t.payload.listId;return{lists:[...e.lists,a]}}case"MOVE_LIST":{const a=t.payload,n=a.oldListIndex,r=a.newListIndex,c=Array.from(e.lists),l=c.splice(n,1),s=Object(p.a)(l,1)[0];return c.splice(r,0,s),{lists:c}}case"DELETE_LIST":{const a=t.payload.listId,n=e=>e!==a;return{lists:e.lists.filter(n)}}default:return e}},f=a(33),b=a(32);var v=(e={},t)=>{switch(t.type){case"ADD_LIST":{const a=t.payload,n=a.listId,r=a.listTitle;return Object(d.a)({},e,{[n]:{_id:n,title:r,cards:[]}})}case"CHANGE_LIST_TITLE":{const a=t.payload,n=a.listId,r=a.listTitle;return Object(d.a)({},e,{[n]:Object(d.a)({},e[n],{title:r})})}case"DELETE_LIST":{const a=t.payload.listId;e[a];return Object(f.a)(e,[a].map(b.a))}case"ADD_CARD":{const a=t.payload,n=a.listId,r=a.cardId;return Object(d.a)({},e,{[n]:Object(d.a)({},e[n],{cards:[...e[n].cards,r]})})}case"MOVE_CARD":{const a=t.payload,n=a.oldCardIndex,r=a.newCardIndex,c=a.sourceListId,l=a.destListId;if(c===l){const t=Array.from(e[c].cards),a=t.splice(n,1),l=Object(p.a)(a,1)[0];return t.splice(r,0,l),Object(d.a)({},e,{[c]:Object(d.a)({},e[c],{cards:t})})}const s=Array.from(e[c].cards),o=s.splice(n,1),i=Object(p.a)(o,1)[0],u=Array.from(e[l].cards);return u.splice(r,0,i),Object(d.a)({},e,{[c]:Object(d.a)({},e[c],{cards:s}),[l]:Object(d.a)({},e[l],{cards:u})})}case"DELETE_CARD":{const a=t.payload,n=a.cardId,r=a.listId,c=e=>e!==n;return Object(d.a)({},e,{[r]:Object(d.a)({},e[r],{cards:e[r].cards.filter(c)})})}default:return e}};var h=(e={},t)=>{switch(t.type){case"ADD_CARD":{const a=t.payload,n=a.cardText,r=a.cardId;return Object(d.a)({},e,{[r]:{text:n,_id:r}})}case"CHANGE_CARD_TEXT":{const a=t.payload,n=a.cardText,r=a.cardId;return Object(d.a)({},e,{[r]:Object(d.a)({},e[r],{text:n})})}case"DELETE_CARD":{const a=t.payload.cardId;e[a];return Object(f.a)(e,[a].map(b.a))}case"DELETE_LIST":{const a=t.payload.cards;return Object.keys(e).filter(e=>!a.includes(e)).reduce((t,a)=>Object(d.a)({},t,{[a]:e[a]}),{})}default:return e}};var g=(e=null,t)=>{switch(t.type){case"SET_USER":return Object(d.a)({},t.payLoad);case"CLEAR_USER":return null;default:return e}};var w=(e=[],t)=>{switch(t.type){case"SET_NOTIFICATION":return[...e,t.payLoad];case"CLEAR_NOTIFICATION":return e.filter(e=>e.id!==t.payLoad.id);default:return e}};const y=Object(o.c)({nav:m,board:E,lists:v,cards:h,user:g,notifications:w});var O=Object(o.e)(y,Object(o.a)(i.a)),N=a(22),L=a(17),x=a(2),I=a.n(x),j=a(5),C=a(21),T=a.n(C);var S={login:function(){var e=Object(j.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/login",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};let k=null;const _=e=>{k="bearer ".concat(e)},D=()=>{k=null};var A={create:function(){var e=Object(j.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(j.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.put("".concat("/api/users","/").concat(t.id),t,{headers:{Authorization:k}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteUser:function(){var e=Object(j.a)(I.a.mark((function e(t,a){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.delete("".concat("/api/users","/").concat(a),{data:{password:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()};var F=a(168);const U={clearNotification:e=>t=>{t({type:"CLEAR_NOTIFICATION",payLoad:{id:e}})}};var R=Object(s.b)(null,U)(({notification:e,clearNotification:t})=>{const a=Object(n.useState)(!1),c=Object(p.a)(a,2),l=c[0],s=c[1],o=e.message,i=e.type,d=e.id;return r.a.createElement("div",{className:"flex-col-center p10 notification-alert-wrapper ".concat(l?"notification-alert-close":"")},r.a.createElement("div",{className:"flex-row w100 notification-subheader-wrapper"},r.a.createElement("div",{className:"notification-".concat(i," flex-9 notification-subheader")},i),r.a.createElement("div",{className:"flex-1 flex-row notification-close",onClick:e=>{e.preventDefault(),s(!0),setTimeout(()=>t(d),250)}},"x")),r.a.createElement("div",{className:"w100 notification-message"},o))});a(106);var P=Object(s.b)(e=>({notifications:e.notifications}),null)(({notifications:e})=>r.a.createElement("div",{className:"flex-col m10 notification-wrapper "},e.length>0?e.map((e,t)=>r.a.createElement(R,{key:t,notification:e})):null));const G=e=>t=>{t({type:"SET_LOGIN",payLoad:{view:e}})};var M=Object(s.b)()(()=>r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))),B=a(67),H=a.n(B);const V={setLogin:G,trialUser:()=>e=>{e({type:"SET_USER",payLoad:{token:"testusertoken",email:"test@email.com",id:"1"}})}};var z=Object(s.b)(null,V)(({setLogin:e,trialUser:t})=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-col-center login-icon-wrapper"},r.a.createElement("img",{className:"img-cover w-auto h100",title:"login-icon",alt:"login-icon",src:H.a})),r.a.createElement("button",{className:"w90 login-secondary-btn",onClick:()=>e("signUp")},"sign up"),r.a.createElement("button",{className:"w90 login-primary-btn",onClick:()=>e("login")},"log In"),r.a.createElement("hr",{className:"w90"}),r.a.createElement("button",{className:"w90 login-alt-btn",onClick:e=>{e.preventDefault(),t()}},"I'd like to test first")));const q={createUser:({email:e,password:t,checkPassword:a})=>function(){var n=Object(j.a)(I.a.mark((function n(r){var c;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:"SET_LOADING",payLoad:{isFetching:!0}}),n.prev=1,n.next=4,A.create({email:e,password:t,checkPassword:a});case 4:return n.next=6,S.login({email:e,password:t});case 6:c=n.sent,window.localStorage.setItem("loggedUser",JSON.stringify(c)),_(c.token),r({type:"SET_USER",payLoad:{user:c}}),r({type:"SET_NOTIFICATION",payLoad:{message:"account created",type:"success"}}),r({type:"SET_LOADING",payLoad:{isFetching:!1}}),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(1),r({type:"SET_LOADING",payLoad:{isFetching:!1}}),r({type:"SET_NOTIFICATION",payLoad:{message:n.t0.response.data.error,type:"error"}});case 18:case"end":return n.stop()}}),n,null,[[1,14]])})));return function(e){return n.apply(this,arguments)}}()};var J=Object(s.b)(null,q)(({createUser:e})=>{const t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],l=a[1],s=e=>{l(Object(d.a)({},c,{[e.target.name]:e.target.value}))};return r.a.createElement("form",{className:"flex-col-center form-element",onSubmit:t=>{t.preventDefault(),e(c)}},r.a.createElement("input",{name:"email",onChange:s,placeholder:"your@email.com",type:"email",minLength:3,required:!0}),r.a.createElement("input",{name:"password",onChange:s,placeholder:"password",type:"password",minLength:3,required:!0}),r.a.createElement("input",{name:"checkPassword",onChange:s,placeholder:"confirm password",type:"password",minLength:3,required:!0}),r.a.createElement("button",{className:"w90 login-primary-btn",type:"submit"},"sign up"))});const Z={loginUser:({email:e,password:t})=>function(){var a=Object(j.a)(I.a.mark((function a(n){var r;return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SET_LOADING",payLoad:{isFetching:!0}}),a.prev=1,a.next=4,S.login({email:e,password:t});case 4:r=a.sent,window.localStorage.setItem("loggedUser",JSON.stringify(r)),_(r.token),n({type:"SET_USER",payLoad:r}),n({type:"SET_LOADING",payLoad:{isFetching:!1}}),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:"SET_LOADING",payLoad:{isFetching:!1}}),n({type:"SET_NOTIFICATION",payLoad:{message:a.t0.response.data.error,type:"error"}});case 15:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()};var K=Object(s.b)(null,Z)(({loginUser:e})=>{const t=Object(n.useState)({}),a=Object(p.a)(t,2),c=a[0],l=a[1],s=e=>{l(Object(d.a)({},c,{[e.target.name]:e.target.value}))};return r.a.createElement("form",{className:"flex-col-center form-element",onSubmit:t=>{t.preventDefault(),e(c)}},r.a.createElement("input",{name:"email",onChange:s,placeholder:"your@email.com",type:"email",minLength:3,required:!0}),r.a.createElement("input",{name:"password",onChange:s,placeholder:"password",type:"password",minLength:3,required:!0}),r.a.createElement("button",{className:"w90 login-primary-btn",type:"submit"},"log in"))});a(107);const X={setLogin:G};var $=Object(s.b)(e=>({loginView:e.nav.loginView,isFetching:e.nav.isFetching,user:e.user}),X)(({setLogin:e,loginView:t,isFetching:a,user:n})=>{const c=()=>r.a.createElement("button",{className:"w90 login-secondary-btn",onClick:()=>e("landing")},"back");return r.a.createElement("section",{className:"w100 login-section flex-row"},r.a.createElement("div",{className:"login-title-wrapper m10"},r.a.createElement("h2",{className:"login-title"},"react trello clone."),r.a.createElement("h4",{title:"jamesdalton.io",className:"login-subtitle",onClick:e=>{e.preventDefault();const t=window.open("https://jamesdalton.io","_blank");null!=t&&t.focus()}},"jamesdalton.io")),r.a.createElement("div",{className:"h100 w100 login-image-full"}),r.a.createElement("div",{className:"flex-row-center login-right"},r.a.createElement("div",{className:"w100 flex-col-center login-card"},a?r.a.createElement(M,null):r.a.createElement(r.a.Fragment,null,"landing"===t&&r.a.createElement(z,null),"signUp"===t&&r.a.createElement(J,null),"login"===t&&r.a.createElement(K,null),"landing"!==t&&r.a.createElement(c,null)))))}),Q=a(68);function W(){const e=Object(Q.a)(["\n  margin: 5px 0px 5px 0px;\n  display: flex;\n  box-sizing: border-box;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 15px;\n  height: 30px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  z-index: 1;\n  &:hover div {\n    background: #e2e2e2;\n  }\n  div {\n    z-index: 1;\n    width: 22px;\n    height: 2px;\n    background: black;\n    transition: all 0.3s linear;\n    position: relative;\n    :first-child {\n      transform-origin: bottom center;\n      transform: ",";\n    }\n    :nth-child(2) {\n      transform-origin: top center;\n      transform: ",";\n    }\n  }\n"]);return W=function(){return e},e}const Y=a(69).a.button(W(),({shrink:e})=>e?"rotate(45deg)":"rotate(-45deg)",({shrink:e})=>e?"rotate(-45deg)":"rotate(45deg)"),ee={logoutUser:()=>function(){var e=Object(j.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D(),window.localStorage.removeItem("loggedUser"),t({type:"CLEAR_USER"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setHeader:e=>t=>{t({type:"SET_HEADER",payLoad:{header:e}})}};var te=Object(s.b)(e=>({shrink:e.nav.menuShrink}),ee)(({shrink:e,name:t,logoutUser:a,setHeader:n})=>{const c=Object(L.f)(),l=t.replace(/\s+/g,"-").toLowerCase();let s=null;e&&(s={"aria-label":t,"data-balloon-pos":"right"});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",Object.assign({className:"w100 flex-row menu-item"},s,{onClick:e=>{if(e.preventDefault(),t.toLowerCase().includes("boards"))return c.push("/"),void n("Boards");if(t.toLowerCase().includes("settings"))return c.push("/settings"),void n("Settings");if(t.toLowerCase().includes("logout"))return a(),c.push("/"),void n("Boards");const r=window.open("https://github.com/jdalton92/react-trello-clone","_blank");null!=r&&r.focus()}}),r.a.createElement("div",{className:"".concat(e?"shrink":"flex-2 flex-row-center menu-text-wrapper")},r.a.createElement("div",{className:"menu-text"},t)),r.a.createElement("div",{className:"flex-1 flex-row icon-container"},r.a.createElement("div",{className:"".concat(e?"shrink-icon":""," menu-icon ").concat(l,"-icon")}))))});a(111);const ae={toggleMenu:()=>e=>{e({type:"TOGGLE_MENU"})}};var ne=Object(s.b)(e=>({shrink:e.nav.menuShrink}),ae)(({shrink:e,toggleMenu:t})=>r.a.createElement("div",{className:"menu-section flex-col-center"},r.a.createElement("div",{className:"styled-pointer-wrapper"},r.a.createElement(Y,{shrink:e,onClick:()=>t()},r.a.createElement("div",null),r.a.createElement("div",null))),r.a.createElement("div",{className:"w100 flex-col"},r.a.createElement(te,{name:"Boards"}),r.a.createElement(te,{name:"User Settings"}),r.a.createElement(te,{name:"GitHub"}),r.a.createElement(te,{name:"Logout"}))));a(112);var re=Object(s.b)(e=>({header:e.nav.header,isFetching:e.nav.isFetching}))(({header:e,isFetching:t})=>r.a.createElement("div",{className:"w100 flex-row-center page-header-wrapper"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-row-center loading-wrapper"},r.a.createElement("div",{className:"h100 lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))):null,r.a.createElement("h2",{className:"h100 m0 flex-row-center"},e)));a(113);const ce={setNotification:({message:e,type:t})=>a=>{a({type:"SET_NOTIFICATION",payLoad:{message:e,type:t,id:Object(F.a)()}})}};var le=Object(s.b)(e=>({board:e.board}),ce)(({setNotification:e})=>{const t=t=>{t.preventDefault(),e({type:"success",message:"test"})},a=t=>{t.preventDefault(),window.confirm("Delete?")&&e({type:"success",message:"deleted"})};return r.a.createElement("section",{className:"h100 w100 flex-col boards-wrapper"},r.a.createElement("table",{className:"w80 boards-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ref"),r.a.createElement("th",null,"Board Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Last Modified"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,["board-1","board-2"].map((e,n)=>r.a.createElement("tr",{key:n},r.a.createElement("td",null,"Ref"),r.a.createElement("td",null,"Board Name"),r.a.createElement("td",null,"Description"),r.a.createElement("td",null,"Last Modified"),r.a.createElement("td",null,r.a.createElement("div",{className:"boards-table-action view-action",onClick:t},"View"),r.a.createElement("div",{className:"boards-table-action delete-action",onClick:a},"Delete")))))))}),se=a(16);var oe=a(30),ie=a.n(oe);a(122),a(123);var de=a(34);a(124);var ue=({handleSave:e,saveLabel:t,handleDelete:a,handleCancel:n})=>r.a.createElement("div",{className:"Edit-Buttons"},r.a.createElement("div",{tabIndex:"0",className:"Edit-Button",style:{backgroundColor:"#5aac44"},onClick:e},t),a&&r.a.createElement("div",{tabIndex:"0",className:"Edit-Button",style:{backgroundColor:"#EA2525",marginLeft:0},onClick:a},"Delete"),r.a.createElement("div",{tabIndex:"0",className:"Edit-Button-Cancel",onClick:n},r.a.createElement("ion-icon",{name:"close"})));var me=Object(s.b)()(e=>{const t=Object(n.useState)(e.text||""),a=Object(p.a)(t,2),c=a[0],l=a[1],s=e.onSave,o=e.onCancel,i=e.onDelete,d=e.adding;return r.a.createElement("div",{className:"Edit-Card"},r.a.createElement("div",{className:"Card"},r.a.createElement(de.a,{autoFocus:!0,className:"Edit-Card-Textarea",placeholder:"Enter the text for this card...",value:c,onChange:e=>l(e.target.value),onKeyDown:t=>{13===t.keyCode&&(t.preventDefault(),e.onSave(c))}})),r.a.createElement(ue,{handleSave:()=>s(c),saveLabel:d?"Add card":"Save",handleDelete:i,handleCancel:o}))});const pe={changeCardText:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"CHANGE_CARD_TEXT",payload:{cardId:e,cardText:t}})}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),deleteCard:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"DELETE_CARD",payload:{cardId:e,listId:t}})}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var Ee=Object(s.b)((e,t)=>({card:e.cards[t.cardId]}),pe)(({listId:e,card:t,index:a,changeCardText:c,deleteCard:l})=>{const s=Object(n.useState)(!1),o=Object(p.a)(s,2),i=o[0],d=o[1],u=Object(n.useState)(!1),m=Object(p.a)(u,2),E=m[0],f=m[1],b=Object(n.useState)(""),v=Object(p.a)(b,2),h=(v[0],v[1]),g=()=>d(!0),w=()=>d(!1),y=()=>{d(!1),f(!0),h(t.text)},O=()=>{d(!1),f(!1)},N=e=>{O(),c(t._id,e)},L=()=>{l(t._id,e)};return E?r.a.createElement(me,{text:t.text,onSave:N,onDelete:L,onCancel:O}):r.a.createElement(se.b,{draggableId:t._id,index:a},(e,a)=>r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{className:"Card",onMouseEnter:g,onMouseLeave:w}),i&&r.a.createElement("div",{className:"Card-Icons"},r.a.createElement("div",{className:"Card-Icon",onClick:y},r.a.createElement("ion-icon",{name:"create"}))),t.text))});a(159);var fe=Object(s.b)((e,t)=>({list:e.lists[t.listId]}))(({title:e,handleChangeTitle:t,deleteList:a,saveList:c,onClickOutside:l})=>{const s=Object(n.useRef)(),o=e=>{s.current.contains(e.target)||l()};Object(n.useEffect)(()=>(document.addEventListener("click",o,!1),()=>{document.removeEventListener("click",o,!1)}),[]);return r.a.createElement("div",{className:"List-Title-Edit",ref:s},r.a.createElement(de.a,{autoFocus:!0,className:"List-Title-Textarea",placeholder:"Enter list title...",value:e,onChange:t,onKeyDown:e=>{13===e.keyCode&&(e.preventDefault(),c())},style:{width:a?220:245}}),a&&r.a.createElement("ion-icon",{name:"trash",onClick:a}))});a(160);const be={addCard:(e,t,a)=>function(){var n=Object(j.a)(I.a.mark((function n(r){return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:"ADD_CARD",payload:{cardText:e,cardId:t,listId:a}})}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),changeListTitle:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"CHANGE_LIST_TITLE",payload:{listId:e,listTitle:t}})}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),deleteList:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"DELETE_LIST",payload:{listId:e,cards:t}})}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};var ve=Object(s.b)((e,t)=>({list:e.lists[t.listId]}),be)(({list:e,index:t,listId:a,addCard:c,changeListTitle:l,deleteList:s})=>{const o=Object(n.useState)(!1),i=Object(p.a)(o,2),d=i[0],u=i[1],m=Object(n.useState)(e.title),E=Object(p.a)(m,2),f=E[0],b=E[1],v=Object(n.useState)(!1),h=Object(p.a)(v,2),g=h[0],w=h[1],y=()=>w(!g),O=e=>{const t=ie.a.generate();y(),c(e,t,a)},N=()=>u(!d),L=e=>b(e.target.value),x=()=>{N(),l(a,f)},I=()=>{s(a,e.cards)};return r.a.createElement(se.b,{draggableId:e._id,index:t},(t,a)=>r.a.createElement("div",Object.assign({ref:t.innerRef},t.draggableProps,t.dragHandleProps,{className:"List"}),d?r.a.createElement(fe,{list:e,title:f,handleChangeTitle:L,saveList:x,onClickOutside:x,deleteList:I}):r.a.createElement("div",{className:"List-Title",onClick:()=>N()},e.title),r.a.createElement(se.c,{droppableId:e._id},(t,a)=>r.a.createElement("div",{ref:t.innerRef},e.cards&&e.cards.map((t,a)=>r.a.createElement(Ee,{key:t,cardId:t,index:a,listId:e._id})),t.placeholder)),g?r.a.createElement(me,{onSave:O,onCancel:y,adding:!0}):r.a.createElement("div",{className:"Toggle-Add-Card",onClick:y},r.a.createElement("ion-icon",{name:"add"})," Add a card")))});a(161);const he={addList:e=>function(){var t=Object(j.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("reducer title",e);try{a({type:"ADD_LIST",payload:{listId:ie.a.generate(),listTitle:e}})}catch(n){console.log(n)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var ge=Object(s.b)(null,he)(({toggleAddingList:e,addList:t})=>{const a=Object(n.useState)(""),c=Object(p.a)(a,2),l=c[0],s=c[1],o=()=>{e(),t(l)};return r.a.createElement("div",{className:"Add-List-Editor"},r.a.createElement(fe,{title:l,handleChangeTitle:e=>s(e.target.value),onClickOutside:e,saveList:o}),r.a.createElement(ue,{handleSave:o,saveLabel:"Add list",handleCancel:e}))});a(162);const we={moveList:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{n({type:"MOVE_LIST",payload:{oldListIndex:e,newListIndex:t}})}catch(r){console.log(r)}case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),moveCard:(e,t,a,n)=>function(){var r=Object(j.a)(I.a.mark((function r(c){return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{c({type:"MOVE_CARD",payload:{sourceListId:e,destListId:t,oldCardIndex:a,newCardIndex:n}})}catch(l){console.log(l)}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var ye=Object(s.b)(e=>({board:e.board}),we)(({moveList:e,moveCard:t,board:a})=>{const c=Object(L.g)().id;console.log("boardID",c);const l=Object(n.useState)(!1),s=Object(p.a)(l,2),o=s[0],i=s[1],d=()=>i(!o);return r.a.createElement("section",{className:"h100 w100 board-section"},r.a.createElement(se.a,{onDragEnd:({source:a,destination:n,type:r})=>{n&&("COLUMN"!==r?a.index===n.index&&a.droppableId===n.droppableId||t(a.droppableId,n.droppableId,a.index,n.index):a.index!==n.index&&e(a.index,n.index))}},r.a.createElement(se.c,{droppableId:"board",direction:"horizontal",type:"COLUMN"},(e,t)=>r.a.createElement("div",{className:"board",ref:e.innerRef},a.lists.map((e,t)=>r.a.createElement(ve,{listId:e,key:e,index:t})),e.placeholder,r.a.createElement("div",{className:"add-list"},o?r.a.createElement(ge,{toggleAddingList:d}):r.a.createElement("div",{onClick:d,className:"add-list-button"},r.a.createElement("ion-icon",{name:"add"})," Add a list"))))))}),Oe=a(14);const Ne=e=>e?void 0:"Required",Le=e=>t=>t.length<e?"Should be greater than ".concat(e," characters"):void 0,xe=e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e)?void 0:"Please use valid email address",Ie=(...e)=>t=>e.reduce((e,a)=>e||a(t),void 0);a(163);const je={updateUser:(e,t,a,n,r)=>function(){var c=Object(j.a)(I.a.mark((function c(l){var s;return I.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l({type:"SET_LOADING",payLoad:{isFetching:!0}}),c.prev=1,c.next=4,A.update(e,t,a,n,r);case 4:s=c.sent,window.localStorage.setItem("loggedUser",JSON.stringify(s)),D(),_(s.token),l({type:"SET_USER",data:s}),l({type:"SET_LOADING",payLoad:{isFetching:!1}}),c.next=16;break;case 12:c.prev=12,c.t0=c.catch(1),l({type:"SET_LOADING",payLoad:{isFetching:!1}}),l({type:"SET_NOTIFICATION",payLoad:{message:c.t0.response.data.error,type:"error"}});case 16:case"end":return c.stop()}}),c,null,[[1,12]])})));return function(e){return c.apply(this,arguments)}}(),deleteUser:(e,t)=>function(){var a=Object(j.a)(I.a.mark((function a(n){return I.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:"SET_LOADING",payLoad:{isFetching:!0}}),a.prev=1,a.next=4,A.deleteUser(e,t);case 4:window.localStorage.removeItem("loggedUser"),D(),n({type:"CLEAR_USER"}),n({type:"SET_LOADING",payLoad:{isFetching:!1}}),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),n({type:"SET_LOADING",payLoad:{isFetching:!1}}),n({type:"SET_NOTIFICATION",payLoad:{message:a.t0.response.data.error,type:"error"}});case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()};var Ce=Object(s.b)(e=>({user:e.user,isFetching:e.nav.isFetching}),je)(({updateUser:e,deleteUser:t,user:a,isFetching:n})=>{const c={oldEmail:a.email,id:a.id},l=function(){var t=Object(j.a)(I.a.mark((function t(a){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Change email from ".concat(c.oldEmail," to ").concat(a.newEmail,"?"))){t.next=4;break}return t.next=4,e(Object(d.a)({newEmail:a.newEmail},c));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(j.a)(I.a.mark((function t(a){var n,r,l;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.oldPassword,r=a.newPassword,l=a.checkPassword,t.next=3,e(Object(d.a)({oldPassword:n,newPassword:r,checkPassword:l},c));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var e=Object(j.a)(I.a.mark((function e({password:n}){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Delete ".concat(c.username,"?"))){e.next=4;break}return e.next=4,t(n,a.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"flex-col-center"},n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"Change Email")),r.a.createElement("div",{className:"form-current-email"},"Current: ",a.email),r.a.createElement(Oe.b,{onSubmit:l,render:({handleSubmit:e,values:t})=>r.a.createElement("form",{className:"form-element",onSubmit:e},r.a.createElement(Oe.a,{name:"newEmail",validate:Ie(Ne,Le(3),xe)},({input:e,meta:t})=>r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control",placeholder:"new@email.com",type:"email"},e)),r.a.createElement("div",{className:"form-error"},t.error&&t.touched&&t.error))),r.a.createElement("div",{className:"form-button-container"},r.a.createElement("button",{className:"form-button login-button-primary",type:"submit"},"Update")))})),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"Change Password")),r.a.createElement("div",{className:"form-inner-container"},r.a.createElement(Oe.b,{onSubmit:s,validate:e=>{const t={};return e.checkPassword||(t.checkPassword="Required"),e.newPassword!==e.checkPassword&&(t.checkPassword="Passwords must match"),t},render:({handleSubmit:e,values:t})=>r.a.createElement("form",{className:"form-element",onSubmit:e},r.a.createElement(Oe.a,{name:"oldPassword",validate:Ie(Ne,Le(3))},({input:e,meta:t})=>r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control",placeholder:"Old Password",type:"password"},e)),r.a.createElement("div",{className:"form-error"},t.error&&t.touched&&t.error))),r.a.createElement(Oe.a,{name:"newPassword",validate:Ie(Ne,Le(3))},({input:e,meta:t})=>r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control",placeholder:"New Password",type:"password"},e)),r.a.createElement("div",{className:"form-error"},t.error&&t.touched&&t.error))),r.a.createElement(Oe.a,{name:"checkPassword"},({input:e,meta:t})=>r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control",placeholder:"Confirm New Password",type:"password"},e)),r.a.createElement("div",{className:"form-error"},t.error&&t.touched&&t.error))),r.a.createElement("div",{className:"form-button-container"},r.a.createElement("button",{className:"form-button",type:"submit"},"Update")))}))),r.a.createElement("div",{className:"form-wrapper"},r.a.createElement("div",{className:"form-header"},r.a.createElement("h1",null,"Delete Account")),r.a.createElement("div",{className:"form-inner-container"},r.a.createElement(Oe.b,{onSubmit:o,render:({handleSubmit:e,values:t})=>r.a.createElement("form",{className:"form-element",onSubmit:e},r.a.createElement(Oe.a,{name:"password",validate:Ie(Ne,Le(3))},({input:e,meta:t})=>r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"form-control",placeholder:"Password",type:"password"},e)),t.error&&t.touched&&r.a.createElement("span",{className:"form-error"},t.error))),r.a.createElement("div",{className:"form-button-container"},r.a.createElement("button",{className:"form-button",type:"submit"},"Delete")))})))))});a(164);const Te={initUser:()=>function(){var e=Object(j.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{(a=window.localStorage.getItem("loggedUser"))&&(n=JSON.parse(a),_(n.token),t({type:"SET_USER",payLoad:n}))}catch(r){t({type:"SET_NOTIFICATION",payLoad:{message:r.response.data.error,type:"error"}})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var Se=Object(s.b)(e=>({user:e.user}),Te)(e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-wrapper flex-row"},r.a.createElement(N.a,null,r.a.createElement(L.c,null,e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(P,null),r.a.createElement("div",{className:"h100 w100 flex-col page-wrapper"},r.a.createElement(re,null),r.a.createElement(L.a,{exact:!0,path:"/",render:()=>r.a.createElement(le,null)}),r.a.createElement(L.a,{path:"/board/:id",render:()=>r.a.createElement(ye,null)}),r.a.createElement(L.a,{path:"/settings",render:()=>r.a.createElement(Ce,null)}))):r.a.createElement(r.a.Fragment,null,r.a.createElement($,null),r.a.createElement(P,null)))))));a(165);l.a.render(r.a.createElement(s.a,{store:O},r.a.createElement(Se,null)),document.getElementById("root"))},67:function(e,t,a){e.exports=a.p+"static/media/login-icon.30845892.svg"},78:function(e,t,a){e.exports=a(166)}},[[78,1,2]]]);
//# sourceMappingURL=main.06dedc5c.chunk.js.map