{"version":3,"sources":["reducers/navReducer.js","reducers/boardReducer.js","reducers/listReducer.js","reducers/cardReducer.js","reducers/userReducer.js","reducers/notificationReducer.js","store.js","services/login.js","utils/tokenHelper.js","services/user.js","actions/notificationActions.js","components/Notification.Alert.js","components/Notifications.js","actions/navActions.js","components/Login.Loading.js","components/Login.Landing.js","actions/userActions.js","components/Login.SignUp.js","components/Login.Login.js","components/Login.js","styles/StyledComponents.js","components/Menu.Item.js","components/Menu.js","components/PageHeader.js","services/board.js","components/Boards.js","actions/boardActions.js","components/CreateBoard.Overlay.js","services/card.js","services/list.js","components/EditButtons.js","components/CardEditor.js","components/Card.js","actions/cardActions.js","components/ListEditor.js","components/List.js","actions/listActions.js","components/AddList.js","components/Board.js","utils/formValidator.js","components/Settings.js","App.js","index.js","styles/images/login-icon.svg"],"names":["initialState","loginView","showBoardModal","menuShrink","isFetching","navReducer","state","action","type","modalShow","payload","view","boardReducer","boards","boardDetails","boardId","filter","b","_id","listReducer","lists","listIndex","listTitle","cards","listId","changedList","l","restOfLists","oldListIndex","newListIndex","otherLists","newList","forEach","cardReducer","cardText","cardIndex","list","updatedCard","c","restofCards","cardId","deletedCard","activeListCards","remainingCards","oldListId","newListId","oldCardIndex","newCardIndex","newCard","otherCards","oldListCards","newListCards","userReducer","user","notificationReducer","payLoad","n","id","reducers","combineReducers","nav","notifications","store","createStore","applyMiddleware","thunk","login","credentials","a","axios","post","response","data","token","getConfig","headers","Authorization","setToken","newToken","destroyToken","create","userDetails","update","put","deleteUser","password","delete","mapDispatchToProps","clearNotification","dispatch","connect","notification","useState","animate","setAnimate","message","className","onClick","e","preventDefault","setTimeout","length","map","i","key","setBoardModal","setLogin","trialUser","email","window","localStorage","setItem","JSON","stringify","history","useHistory","title","alt","src","loginIcon","push","createUser","checkPassword","userService","loginService","console","log","form","setForm","formHandler","target","name","value","onSubmit","onChange","placeholder","minLength","required","loginUser","error","BackButton","win","open","focus","StyledPointer","styled","button","shrink","logoutUser","removeItem","link","nameParse","replace","toLowerCase","tooltipProps","includes","toggleMenu","header","getBoards","get","getBoard","newBoard","updateBoard","deleteBoard","setNotification","uuid","initBoards","boardService","setFetching","boardName","boardDescription","Intl","DateTimeFormat","format","lastModified","handleView","handleDelete","confirm","addBoard","modal","board","activeBoard","setBoardName","setBoardDescription","maxLength","autoComplete","updateCard","deleteCard","saveList","updateList","deleteList","EditButtons","handleSave","saveLabel","handleCancel","tabIndex","style","backgroundColor","marginLeft","onSave","onCancel","onDelete","adding","text","setText","autoFocus","onKeyDown","keyCode","changeCardText","cardService","changeType","card","hover","setHover","editing","setEditing","startHover","endHover","startEditing","endEditing","editCard","handleDeleteCard","draggableId","index","provided","snapshot","ref","innerRef","draggableProps","dragHandleProps","onMouseEnter","onMouseLeave","ownProps","handleChangeTitle","onClickOutside","useRef","handleClick","current","contains","useEffect","document","addEventListener","removeEventListener","width","addCard","changeListTitle","listService","sort","editingTitle","setEditingTitle","setTitle","addingCard","setAddingCard","toggleAddingCard","handleAddCard","toggleEditingTitle","editListTitle","handleDeleteList","droppableId","_snapshot","addList","toggleAddingList","setListTitle","createList","moveList","moveCard","useParams","addingList","setAddingList","onDragEnd","source","destination","direction","undefined","min","isEmail","test","composeValidators","validators","reduce","validator","updateUser","newEmail","oldPassword","newPassword","confirmNewPassword","oldEmail","handleEmailChange","values","handlePasswordChange","username","render","handleSubmit","validate","input","meta","touched","errors","initUser","loggedUserJSON","getItem","parse","loading","setLoading","exact","path","ReactDOM","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bd277966.chunk.js","sourcesContent":["const initialState = {\r\n  loginView: \"landing\",\r\n  showBoardModal: false,\r\n  menuShrink: true,\r\n  isFetching: false,\r\n};\r\n\r\nconst navReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"TOGGLE_MENU\": {\r\n      return { ...state, menuShrink: !state.menuShrink };\r\n    }\r\n    case \"SET_BOARD_MODAL\": {\r\n      const { modalShow } = action.payload;\r\n      return { ...state, showBoardModal: modalShow };\r\n    }\r\n    case \"SET_LOGIN\": {\r\n      const { view } = action.payload;\r\n      return { ...state, loginView: view };\r\n    }\r\n    case \"SET_LOADING\": {\r\n      const { isFetching } = action.payload;\r\n      return { ...state, isFetching };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default navReducer;\r\n","const boardReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"INIT_BOARDS\": {\r\n      const { boards } = action.payload;\r\n      return boards;\r\n    }\r\n    case \"ADD_BOARD\": {\r\n      const { boardDetails } = action.payload;\r\n      return [...state, boardDetails];\r\n    }\r\n    case \"DELETE_BOARD\": {\r\n      const { boardId } = action.payload;\r\n      const boards = state.filter((b) => b._id !== boardId);\r\n      return boards;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default boardReducer;\r\n","const listReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"INIT_LISTS\": {\r\n      const { lists } = action.payload;\r\n      return lists;\r\n    }\r\n    case \"ADD_LIST\": {\r\n      const { _id, listIndex, listTitle } = action.payload;\r\n      return [...state, { _id, listIndex, listTitle, cards: [] }];\r\n    }\r\n    case \"CHANGE_LIST_TITLE\": {\r\n      const { listId, listTitle } = action.payload;\r\n      const changedList = state.filter((l) => l._id === listId);\r\n      changedList[0].listTitle = listTitle;\r\n      const restOfLists = state.filter((l) => l._id !== listId);\r\n      return [...changedList, ...restOfLists];\r\n    }\r\n    case \"DELETE_LIST\": {\r\n      const { listId } = action.payload;\r\n      const newLists = state.filter((l) => l._id !== listId);\r\n      return newLists;\r\n    }\r\n    case \"MOVE_LIST\": {\r\n      const { listId, oldListIndex, newListIndex } = action.payload;\r\n      const otherLists = state.filter((l) => l._id !== listId);\r\n      const newList = state.filter((l) => l._id === listId);\r\n      newList[0].listIndex = newListIndex;\r\n      otherLists.forEach((l) => {\r\n        if (l.listIndex >= newListIndex && l.listIndex < oldListIndex) {\r\n          l.listIndex += 1;\r\n          return l;\r\n        } else if (l.listIndex > oldListIndex && l.listIndex <= newListIndex) {\r\n          l.listIndex -= 1;\r\n          return l;\r\n        } else {\r\n          return l;\r\n        }\r\n      });\r\n      return [...otherLists, newList[0]];\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default listReducer;\r\n","const cardReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"INIT_CARDS\": {\r\n      const { cards } = action.payload;\r\n      return cards;\r\n    }\r\n    case \"ADD_CARD\": {\r\n      const { _id, cardText, listId, cardIndex } = action.payload;\r\n      return [...state, { _id, list: listId, cardText, cardIndex }];\r\n    }\r\n    case \"CHANGE_CARD_TEXT\": {\r\n      const { cardText, _id } = action.payload;\r\n      const updatedCard = state.filter((c) => c._id === _id);\r\n      const restofCards = state.filter((c) => c._id !== _id);\r\n      updatedCard[0].cardText = cardText;\r\n      return [...restofCards, ...updatedCard];\r\n    }\r\n    case \"DELETE_CARD\": {\r\n      const { cardId, listId } = action.payload;\r\n      const deletedCard = state.filter((c) => c._id === cardId);\r\n      const activeListCards = state.filter(\r\n        (c) => c.list === listId && c._id !== cardId\r\n      );\r\n      const remainingCards = state.filter((c) => c.list !== listId);\r\n      activeListCards.forEach((c) => {\r\n        if (c.cardIndex > deletedCard[0].cardIndex) {\r\n          c.cardIndex -= 1;\r\n          return c;\r\n        } else {\r\n          return c;\r\n        }\r\n      });\r\n      return [...activeListCards, ...remainingCards];\r\n    }\r\n    case \"MOVE_CARD\": {\r\n      const {\r\n        oldListId,\r\n        newListId,\r\n        oldCardIndex,\r\n        newCardIndex,\r\n      } = action.payload;\r\n      // Move within the same list\r\n      if (oldListId === newListId) {\r\n        const activeListCards = state.filter((c) => c.list === oldListId);\r\n        const remainingCards = state.filter((c) => c.list !== oldListId);\r\n        const newCard = activeListCards.filter(\r\n          (c) => c.cardIndex === oldCardIndex\r\n        );\r\n        const otherCards = activeListCards.filter(\r\n          (c) => c.cardIndex !== oldCardIndex\r\n        );\r\n        newCard[0].cardIndex = newCardIndex;\r\n        otherCards.forEach((c) => {\r\n          if (c.cardIndex >= newCardIndex && c.cardIndex < oldCardIndex) {\r\n            c.cardIndex += 1;\r\n            return c;\r\n          } else if (\r\n            c.cardIndex > oldCardIndex &&\r\n            c.cardIndex <= newCardIndex\r\n          ) {\r\n            c.cardIndex -= 1;\r\n            return c;\r\n          } else {\r\n            return c;\r\n          }\r\n        });\r\n        return [...remainingCards, ...otherCards, newCard[0]];\r\n      }\r\n\r\n      // If card moved to other list\r\n      const oldListCards = state.filter((c) => c.list === oldListId);\r\n      const newListCards = state.filter((c) => c.list === newListId);\r\n      const remainingCards = state.filter(\r\n        (c) => c.list !== oldListId && c.list !== newListId\r\n      );\r\n      // Update old list cardIndex\r\n      oldListCards.forEach((c) => {\r\n        if (c.cardIndex > oldCardIndex) {\r\n          c.cardIndex -= 1;\r\n          return c;\r\n        } else if (c.cardIndex === oldCardIndex) {\r\n          c.list = newListId;\r\n          return c;\r\n        } else {\r\n          return c;\r\n        }\r\n      });\r\n      // Update new list cardIndex\r\n      newListCards.forEach((c) => {\r\n        if (c.cardIndex >= newCardIndex) {\r\n          c.cardIndex += 1;\r\n          return c;\r\n        } else {\r\n          return c;\r\n        }\r\n      });\r\n      return [...oldListCards, ...newListCards, ...remainingCards];\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cardReducer;\r\n","const userReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"SET_USER\":\r\n      const { user } = action.payload;\r\n      return user;\r\n    case \"CLEAR_USER\":\r\n      return null;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","const notificationReducer = (state = [], action) => {\r\n  switch (action.type) {\r\n    case \"SET_NOTIFICATION\":\r\n      return [...state, action.payLoad];\r\n    case \"CLEAR_NOTIFICATION\":\r\n      return state.filter(n => n.id !== action.payLoad.id);\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notificationReducer;\r\n","import { combineReducers, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport navReducer from \"./reducers/navReducer\";\r\nimport boardReducer from \"./reducers/boardReducer\";\r\nimport listReducer from \"./reducers/listReducer\";\r\nimport cardReducer from \"./reducers/cardReducer\";\r\nimport userReducer from \"./reducers/userReducer\";\r\nimport notificationReducer from \"./reducers/notificationReducer\";\r\n\r\nconst reducers = combineReducers({\r\n  nav: navReducer,\r\n  boards: boardReducer,\r\n  lists: listReducer,\r\n  cards: cardReducer,\r\n  user: userReducer,\r\n  notifications: notificationReducer,\r\n});\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/login\";\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials);\r\n  return response.data;\r\n};\r\n\r\nexport default { login };\r\n","let token = null;\r\n\r\nexport const getConfig = () => ({\r\n  headers: { Authorization: token }\r\n});\r\n\r\nexport const setToken = newToken => {\r\n  token = `bearer ${newToken}`;\r\n};\r\n\r\nexport const destroyToken = () => {\r\n  token = null;\r\n};\r\n","import axios from \"axios\";\r\nimport { getConfig } from \"../utils/tokenHelper\";\r\nconst baseUrl = \"/api/users\";\r\n\r\nconst create = async userDetails => {\r\n  const response = await axios.post(baseUrl, userDetails);\r\n  return response.data;\r\n};\r\n\r\nconst update = async userDetails => {\r\n  const response = await axios.put(\r\n    `${baseUrl}/${userDetails.id}`,\r\n    userDetails,\r\n    getConfig()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst deleteUser = async (password, id) => {\r\n  const response = await axios.delete(`${baseUrl}/${id}`, {\r\n    data: { password }\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport default { create, update, deleteUser };\r\n","import { v4 as uuid } from \"uuid\";\r\n\r\nexport const setNotification = ({ message, type }) => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: \"SET_NOTIFICATION\",\r\n      payLoad: {\r\n        message,\r\n        type,\r\n        id: uuid()\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const clearNotification = id => {\r\n  return dispatch => {\r\n    dispatch({\r\n      type: \"CLEAR_NOTIFICATION\",\r\n      payLoad: {\r\n        id\r\n      }\r\n    });\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { clearNotification } from \"../actions/notificationActions\";\r\n\r\nconst NotificationAlert = ({ notification, clearNotification }) => {\r\n  const [animate, setAnimate] = useState(false);\r\n  const { message, type, id } = notification;\r\n\r\n  const handleClose = e => {\r\n    e.preventDefault();\r\n    setAnimate(true);\r\n    setTimeout(() => clearNotification(id), 250);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`flex-col-center p10 notification-alert-wrapper ${\r\n        animate ? \"notification-alert-close\" : \"\"\r\n      }`}\r\n    >\r\n      <div className=\"flex-row w100 notification-subheader-wrapper\">\r\n        <div className={`notification-${type} flex-9 notification-subheader`}>\r\n          {type}\r\n        </div>\r\n        <div\r\n          className=\"flex-1 flex-row notification-close\"\r\n          onClick={handleClose}\r\n        >\r\n          x\r\n        </div>\r\n      </div>\r\n      <div className=\"w100 notification-message\">{message}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  clearNotification\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(NotificationAlert);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport NotificationAlert from \"./Notification.Alert\";\r\nimport \"../styles/Notifications.scss\";\r\n\r\nconst Notifications = ({ notifications }) => {\r\n  return (\r\n    <div className=\"flex-col m10 notification-wrapper \">\r\n      {notifications.length > 0\r\n        ? notifications.map((n, i) => (\r\n            <NotificationAlert key={i} notification={n} />\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n  notifications: state.notifications\r\n});\r\n\r\nexport default connect(mapStateToProps, null)(Notifications);\r\n","export const toggleMenu = () => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"TOGGLE_MENU\",\r\n    });\r\n  };\r\n};\r\n\r\nexport const setBoardModal = (modalShow) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_BOARD_MODAL\",\r\n      payload: { modalShow },\r\n    });\r\n  };\r\n};\r\n\r\nexport const setLogin = (view) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOGIN\",\r\n      payload: { view },\r\n    });\r\n  };\r\n};\r\n\r\nexport const setFetching = (isFetching) => {\r\n  return (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching },\r\n    });\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst LoginLoading = () => (\r\n  <div className=\"lds-ring\">\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n  </div>\r\n);\r\n\r\nexport default connect()(LoginLoading);\r\n","import React from \"react\";\r\nimport loginIcon from \"../styles/images/login-icon.svg\";\r\nimport { connect } from \"react-redux\";\r\nimport { setLogin } from \"../actions/navActions\";\r\nimport { trialUser } from \"../actions/userActions\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst LoginLanding = ({ setLogin, trialUser }) => {\r\n  const history = useHistory();\r\n  const handleTestFirst = (e) => {\r\n    e.preventDefault();\r\n    trialUser();\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex-col-center login-icon-wrapper\">\r\n        <img\r\n          className=\"img-cover w-auto h100\"\r\n          title=\"login-icon\"\r\n          alt=\"login-icon\"\r\n          src={loginIcon}\r\n        />\r\n      </div>\r\n      <button\r\n        className=\"w90 login-secondary-btn\"\r\n        onClick={() => setLogin(\"signUp\")}\r\n      >\r\n        sign up\r\n      </button>\r\n      <button\r\n        className=\"w90 login-primary-btn\"\r\n        onClick={() => setLogin(\"login\")}\r\n      >\r\n        log In\r\n      </button>\r\n      <hr className=\"w90\" />\r\n      <button className=\"w90 login-alt-btn\" onClick={handleTestFirst}>\r\n        I'd like to test first\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  setLogin,\r\n  trialUser,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginLanding);\r\n","import loginService from \"../services/login\";\r\nimport { setToken, destroyToken } from \"../utils/tokenHelper\";\r\nimport userService from \"../services/user\";\r\n\r\nexport const initUser = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const loggedUserJSON = window.localStorage.getItem(\"loggedUser\");\r\n\r\n      if (loggedUserJSON) {\r\n        const user = JSON.parse(loggedUserJSON);\r\n        setToken(user.token);\r\n\r\n        dispatch({\r\n          type: \"SET_USER\",\r\n          payload: { user },\r\n        });\r\n      }\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        payload: { message: e.response.data.error, type: \"error\" },\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const trialUser = () => {\r\n  return (dispatch) => {\r\n    const user = {\r\n      token:\r\n        \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InRlc3RAZW1haWwuY29tIiwiaWQiOiI1ZTgwMzY5Y2QzYTQ5OTE2MzA1MmRmMDkiLCJpYXQiOjE1ODYzMjc3Njh9.IkFCezMULWg213ejFOfTD1GCkxC6d2ZgiI0gi2I94Ek\",\r\n      email: \"test@email.com\",\r\n      id: \"5e80369cd3a499163052df09\",\r\n    };\r\n\r\n    setToken(user.token);\r\n\r\n    window.localStorage.setItem(\"loggedUser\", JSON.stringify(user));\r\n    dispatch({\r\n      type: \"SET_USER\",\r\n      payload: {\r\n        user,\r\n      },\r\n    });\r\n  };\r\n};\r\n\r\nexport const createUser = ({ email, password, checkPassword }) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      await userService.create({\r\n        email,\r\n        password,\r\n        checkPassword,\r\n      });\r\n\r\n      const user = await loginService.login({\r\n        email,\r\n        password,\r\n      });\r\n\r\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(user));\r\n\r\n      setToken(user.token);\r\n\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        payload: { user },\r\n      });\r\n      dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        payload: { message: \"account created\", type: \"success\" },\r\n      });\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const logoutUser = () => {\r\n  return async (dispatch) => {\r\n    destroyToken();\r\n    window.localStorage.removeItem(\"loggedUser\");\r\n    dispatch({\r\n      type: \"CLEAR_USER\",\r\n    });\r\n  };\r\n};\r\n\r\nexport const loginUser = ({ email, password }) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      const user = await loginService.login({\r\n        email,\r\n        password,\r\n      });\r\n\r\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(user));\r\n      setToken(user.token);\r\n\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        payload: user,\r\n      });\r\n\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n      dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        payload: { message: e.response.data.error, type: \"error\" },\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const updateUser = (\r\n  newEmail,\r\n  oldPassword,\r\n  newPassword,\r\n  confirmNewPassword,\r\n  id\r\n) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      const user = await userService.update(\r\n        newEmail,\r\n        oldPassword,\r\n        newPassword,\r\n        confirmNewPassword,\r\n        id\r\n      );\r\n\r\n      window.localStorage.setItem(\"loggedUser\", JSON.stringify(user));\r\n      destroyToken();\r\n      setToken(user.token);\r\n\r\n      dispatch({\r\n        type: \"SET_USER\",\r\n        payload: { user },\r\n      });\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n      dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        payload: { message: e.response.data.error, type: \"error\" },\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUser = (password, id) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      await userService.deleteUser(password, id);\r\n\r\n      window.localStorage.removeItem(\"loggedUser\");\r\n      destroyToken();\r\n\r\n      dispatch({\r\n        type: \"CLEAR_USER\",\r\n      });\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n      dispatch({\r\n        type: \"SET_NOTIFICATION\",\r\n        payload: { message: e.response.data.error, type: \"error\" },\r\n      });\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createUser } from \"../actions/userActions\";\r\n\r\nconst LoginSignUp = ({ createUser }) => {\r\n  const [form, setForm] = useState({});\r\n\r\n  const formHandler = e => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    createUser(form);\r\n  };\r\n\r\n  return (\r\n    <form className=\"flex-col-center form-element\" onSubmit={handleSubmit}>\r\n      <input\r\n        name=\"email\"\r\n        onChange={formHandler}\r\n        placeholder=\"your@email.com\"\r\n        type=\"email\"\r\n        minLength={3}\r\n        required\r\n      />\r\n      <input\r\n        name=\"password\"\r\n        onChange={formHandler}\r\n        placeholder=\"password\"\r\n        type=\"password\"\r\n        minLength={3}\r\n        required\r\n      />\r\n      <input\r\n        name=\"checkPassword\"\r\n        onChange={formHandler}\r\n        placeholder=\"confirm password\"\r\n        type=\"password\"\r\n        minLength={3}\r\n        required\r\n      />\r\n      <button className=\"w90 login-primary-btn\" type=\"submit\">\r\n        sign up\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  createUser\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginSignUp);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginUser } from \"../actions/userActions\";\r\n\r\nconst LoginLogin = ({ loginUser }) => {\r\n  const [form, setForm] = useState({});\r\n\r\n  const formHandler = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    loginUser(form);\r\n  };\r\n\r\n  return (\r\n    <form className=\"flex-col-center form-element\" onSubmit={handleSubmit}>\r\n      <input\r\n        name=\"email\"\r\n        onChange={formHandler}\r\n        placeholder=\"your@email.com\"\r\n        type=\"email\"\r\n        minLength={3}\r\n        required\r\n      />\r\n      <input\r\n        name=\"password\"\r\n        onChange={formHandler}\r\n        placeholder=\"password\"\r\n        type=\"password\"\r\n        minLength={3}\r\n        required\r\n      />\r\n      <button className=\"w90 login-primary-btn\" type=\"submit\">\r\n        log in\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  loginUser,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginLogin);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setLogin } from \"../actions/navActions\";\r\nimport LoginLoading from \"./Login.Loading\";\r\nimport LoginLanding from \"./Login.Landing\";\r\nimport LoginSignUp from \"./Login.SignUp\";\r\nimport LoginLogin from \"./Login.Login\";\r\nimport \"../styles/Login.scss\";\r\n\r\nconst Login = ({ setLogin, loginView, isFetching }) => {\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    const win = window.open(\"https://jamesdalton.io\", \"_blank\");\r\n    if (win != null) {\r\n      win.focus();\r\n    }\r\n  };\r\n\r\n  const BackButton = () => (\r\n    <button\r\n      className=\"w90 login-secondary-btn\"\r\n      onClick={() => setLogin(\"landing\")}\r\n    >\r\n      back\r\n    </button>\r\n  );\r\n\r\n  return (\r\n    <section className=\"w100 login-section flex-row\">\r\n      <div className=\"login-title-wrapper m10\">\r\n        <h2 className=\"login-title\">react trello clone.</h2>\r\n        <h4\r\n          title=\"jamesdalton.io\"\r\n          className=\"login-subtitle\"\r\n          onClick={handleClick}\r\n        >\r\n          jamesdalton.io\r\n        </h4>\r\n      </div>\r\n      <div className=\"h100 w100 login-image-full\"></div>\r\n      <div className=\"flex-row-center login-right\">\r\n        <div className=\"w100 flex-col-center login-card\">\r\n          {isFetching ? (\r\n            <LoginLoading />\r\n          ) : (\r\n            <>\r\n              {loginView === \"landing\" && <LoginLanding />}\r\n              {loginView === \"signUp\" && <LoginSignUp />}\r\n              {loginView === \"login\" && <LoginLogin />}\r\n              {loginView !== \"landing\" && <BackButton />}\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  loginView: state.nav.loginView,\r\n  isFetching: state.nav.isFetching,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setLogin,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import styled from \"styled-components\";\r\n\r\nexport const StyledPointer = styled.button`\r\n  margin: 5px 0px 5px 0px;\r\n  display: flex;\r\n  box-sizing: border-box;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 15px;\r\n  height: 30px;\r\n  background: transparent;\r\n  border: none;\r\n  cursor: pointer;\r\n  padding: 0;\r\n  z-index: 1;\r\n  &:hover div {\r\n    background: #e2e2e2;\r\n  }\r\n  div {\r\n    z-index: 1;\r\n    width: 22px;\r\n    height: 2px;\r\n    background: black;\r\n    transition: all 0.3s linear;\r\n    position: relative;\r\n    :first-child {\r\n      transform-origin: bottom center;\r\n      transform: ${({ shrink }) =>\r\n        shrink ? \"rotate(45deg)\" : \"rotate(-45deg)\"};\r\n    }\r\n    :nth-child(2) {\r\n      transform-origin: top center;\r\n      transform: ${({ shrink }) =>\r\n        shrink ? \"rotate(-45deg)\" : \"rotate(45deg)\"};\r\n    }\r\n  }\r\n`;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { logoutUser } from \"../actions/userActions\";\r\nimport { setBoardModal } from \"../actions/navActions\";\r\n\r\nconst MenuItem = ({ link, shrink, name, logoutUser, setBoardModal }) => {\r\n  const history = useHistory();\r\n\r\n  const nameParse = name.replace(/\\s+/g, \"-\").toLowerCase();\r\n\r\n  let tooltipProps = null;\r\n  if (shrink) {\r\n    tooltipProps = {\r\n      \"aria-label\": name,\r\n      \"data-balloon-pos\": \"right\",\r\n    };\r\n  }\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    if (name.toLowerCase().includes(\"logout\")) {\r\n      logoutUser();\r\n      history.push(\"/\");\r\n    } else if (name.toLowerCase().includes(\"github\")) {\r\n      const win = window.open(\r\n        \"https://github.com/jdalton92/react-trello-clone\",\r\n        \"_blank\"\r\n      );\r\n      if (win != null) {\r\n        win.focus();\r\n      }\r\n    } else if (link === \"/create\") {\r\n      setBoardModal(true);\r\n    } else {\r\n      history.push(link);\r\n    }\r\n    return;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"w100 flex-col-center menu-item\"\r\n        {...tooltipProps}\r\n        onClick={handleClick}\r\n      >\r\n        <div className=\"w100 flex-row-center icon-container\">\r\n          <div\r\n            className={`${\r\n              shrink ? \"shrink-icon\" : \"\"\r\n            } menu-icon ${nameParse}-icon`}\r\n          />\r\n        </div>\r\n        <div\r\n          className={`${\r\n            shrink ? \"shrink\" : \"w100 flex-row-center menu-text-wrapper\"\r\n          }`}\r\n        >\r\n          <div className=\"menu-text\">{name}</div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  shrink: state.nav.menuShrink,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  logoutUser,\r\n  setBoardModal,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuItem);\r\n","import React from \"react\";\r\nimport { StyledPointer } from \"../styles/StyledComponents\";\r\nimport { connect } from \"react-redux\";\r\nimport MenuItem from \"./Menu.Item\";\r\nimport { toggleMenu } from \"../actions/navActions\";\r\nimport \"../styles/Menu.scss\";\r\n\r\nconst Menu = ({ shrink, toggleMenu }) => {\r\n  return (\r\n    <div className=\"menu-section flex-col-center\">\r\n      <div className=\"styled-pointer-wrapper\">\r\n        <StyledPointer shrink={shrink} onClick={() => toggleMenu()}>\r\n          <div />\r\n          <div />\r\n        </StyledPointer>\r\n      </div>\r\n      <div className=\"w100 flex-col\">\r\n        <MenuItem name={\"Create Board\"} link={\"/create\"} />\r\n        <MenuItem name={\"Saved Boards\"} link={\"/\"} />\r\n        <MenuItem name={\"User Settings\"} link={\"/settings\"} />\r\n        <MenuItem name={\"GitHub\"} />\r\n        <MenuItem name={\"Logout\"} link={\"/\"} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  shrink: state.nav.menuShrink,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  toggleMenu,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport \"../styles/PageHeader.scss\";\r\n\r\nconst PageHeader = ({ header, isFetching }) => {\r\n  return (\r\n    <div className=\"w100 flex-row-center page-header-wrapper\">\r\n      {!isFetching ? null : (\r\n        <>\r\n          <div className=\"flex-row-center loading-wrapper\">\r\n            <div className=\"h100 lds-ring\">\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n              <div></div>\r\n            </div>\r\n            <div className=\"loading-text\">loading...</div>\r\n          </div>\r\n        </>\r\n      )}\r\n      <h2 className=\"h100 m0 flex-row-center\">{header}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isFetching: state.nav.isFetching,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PageHeader);\r\n","import axios from \"axios\";\r\nimport { getConfig } from \"../utils/tokenHelper\";\r\nconst baseUrl = \"/api/boards\";\r\n\r\nconst getBoards = async () => {\r\n  const response = await axios.get(baseUrl, getConfig());\r\n  return response.data;\r\n};\r\n\r\nconst getBoard = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`, getConfig());\r\n  return response.data;\r\n};\r\n\r\nconst newBoard = async (payLoad) => {\r\n  const response = await axios.post(baseUrl, payLoad, getConfig());\r\n  return response.data;\r\n};\r\n\r\nconst updateBoard = async (payLoad) => {\r\n  const response = await axios.put(\r\n    `${baseUrl}/${payLoad._id}`,\r\n    payLoad,\r\n    getConfig()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst deleteBoard = async (id) => {\r\n  const response = await axios.delete(`${baseUrl}/${id}`, getConfig());\r\n  return response.data;\r\n};\r\n\r\nexport default { getBoards, getBoard, newBoard, updateBoard, deleteBoard };\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport PageHeader from \"./PageHeader\";\r\nimport { initBoards, deleteBoard } from \"../actions/boardActions\";\r\nimport { setNotification } from \"../actions/notificationActions\";\r\nimport \"../styles/Boards.scss\";\r\nimport { setFetching } from \"../actions/navActions\";\r\n\r\nconst Boards = ({\r\n  setNotification,\r\n  initBoards,\r\n  boards,\r\n  deleteBoard,\r\n  setFetching,\r\n  isFetching,\r\n}) => {\r\n  const history = useHistory();\r\n\r\n  useState(() => {\r\n    setFetching(true);\r\n    initBoards();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [boards]);\r\n\r\n  const handleView = (id) => {\r\n    setFetching(true);\r\n    history.push(`/board/${id}`);\r\n  };\r\n\r\n  const handleDelete = (id, boardName) => {\r\n    const confirm = window.confirm(`Delete ${boardName}?`);\r\n    if (confirm) {\r\n      deleteBoard(id);\r\n      setNotification({\r\n        type: \"success\",\r\n        message: `${boardName} deleted`,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader header={\"Boards\"} />\r\n      {isFetching ? null : (\r\n        <section className=\"h100 w100 flex-col boards-wrapper\">\r\n          {boards.length === 0 && <div>no saved boards</div>}\r\n          {boards.length > 0 && (\r\n            <table className=\"w90 boards-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Ref</th>\r\n                  <th>Board Name</th>\r\n                  <th className=\"boards-tablet\">Description</th>\r\n                  <th className=\"boards-mobile\">Last Modified</th>\r\n                  <th>Action</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {boards.map((b, i) => (\r\n                  <tr key={i}>\r\n                    <td>{i + 1}</td>\r\n                    <td>{b.boardName}</td>\r\n                    <td className=\"boards-tablet\">{b.boardDescription}</td>\r\n                    <td className=\"boards-mobile\">\r\n                      {new Intl.DateTimeFormat(\"en-GB\").format(b.lastModified)}\r\n                    </td>\r\n                    <td>\r\n                      <div\r\n                        className=\"boards-table-action view-action\"\r\n                        onClick={() => handleView(b._id)}\r\n                      >\r\n                        View\r\n                      </div>\r\n                      <div\r\n                        className=\"boards-table-action delete-action\"\r\n                        onClick={() => handleDelete(b._id, b.boardName)}\r\n                      >\r\n                        Delete\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  boards: state.boards,\r\n  isFetching: state.nav.isFetching,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setNotification,\r\n  initBoards,\r\n  deleteBoard,\r\n  setFetching,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Boards);\r\n","import boardService from \"../services/board\";\r\n\r\nexport const initBoards = () => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      const boards = await boardService.getBoards();\r\n      dispatch({\r\n        type: \"INIT_BOARDS\",\r\n        payload: { boards },\r\n      });\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const getBoard = (id) => {\r\n  return async (dispatch) => {\r\n    dispatch({\r\n      type: \"SET_LOADING\",\r\n      payload: { isFetching: true },\r\n    });\r\n    try {\r\n      const { lists } = await boardService.getBoard(id);\r\n\r\n      let cards = [];\r\n      lists\r\n        .filter((l) => l.cards.length)\r\n        .forEach((l) => {\r\n          cards = [...cards, ...l.cards];\r\n        });\r\n\r\n      dispatch({\r\n        type: \"INIT_LISTS\",\r\n        payload: { lists },\r\n      });\r\n      dispatch({\r\n        type: \"INIT_CARDS\",\r\n        payload: { cards },\r\n      });\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n    } catch (e) {\r\n      dispatch({\r\n        type: \"SET_LOADING\",\r\n        payload: { isFetching: false },\r\n      });\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const clearBoard = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({\r\n        type: \"CLEAR_BOARD\",\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const addBoard = (boardName, boardDescription) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const boardDetails = await boardService.newBoard({\r\n        boardName,\r\n        boardDescription,\r\n      });\r\n\r\n      dispatch({\r\n        type: \"ADD_BOARD\",\r\n        payload: { boardDetails },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteBoard = (boardId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await boardService.deleteBoard(boardId);\r\n\r\n      dispatch({\r\n        type: \"DELETE_BOARD\",\r\n        payload: { boardId },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { setBoardModal } from \"../actions/navActions\";\r\nimport { addBoard } from \"../actions/boardActions\";\r\nimport \"../styles/CreateBoard.Overlay.scss\";\r\n\r\nconst CreateBoardOverlay = ({ modal, setBoardModal, addBoard, board }) => {\r\n  const [boardName, setBoardName] = useState(\"\");\r\n  const [boardDescription, setBoardDescription] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    addBoard(boardName, boardDescription);\r\n    setBoardModal(false);\r\n    // Figure out better way to push to board\r\n    // setTimeout(() => history.push(`board/${board._id}`), 3000);\r\n  };\r\n\r\n  const handleCancel = (e) => {\r\n    e.preventDefault();\r\n    setBoardModal(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {modal ? (\r\n        <div className=\"overlay\">\r\n          <div className=\"modal\">\r\n            <h2>Create Board</h2>\r\n            <form\r\n              className=\"content w100 h80 flex-col-center form-element\"\r\n              onSubmit={handleSubmit}\r\n            >\r\n              <input\r\n                className=\"w100 form-control\"\r\n                placeholder=\"Board Name\"\r\n                type=\"text\"\r\n                maxLength={100}\r\n                name=\"boardName\"\r\n                onChange={({ target }) => setBoardName(target.value)}\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n              <input\r\n                className=\"w100 form-control\"\r\n                placeholder=\"Board Description\"\r\n                type=\"text\"\r\n                maxLength={100}\r\n                name=\"boardDescription\"\r\n                onChange={({ target }) => setBoardDescription(target.value)}\r\n                autoComplete=\"off\"\r\n                required\r\n              />\r\n              <div className=\"w100 flex-row\">\r\n                <button\r\n                  className=\"flex-1 login-primary-btn create-new-board-btn\"\r\n                  type=\"submit\"\r\n                >\r\n                  create\r\n                </button>\r\n                <button\r\n                  className=\"flex-1 login-secondary-btn cancel-new-board-btn\"\r\n                  type=\"button\"\r\n                  onClick={handleCancel}\r\n                >\r\n                  cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  modal: state.nav.showBoardModal,\r\n  board: state.boards.activeBoard,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setBoardModal,\r\n  addBoard,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateBoardOverlay);\r\n","import axios from \"axios\";\r\nimport { getConfig } from \"../utils/tokenHelper\";\r\nconst baseUrl = \"/api/cards\";\r\n\r\nconst newCard = async (payload) => {\r\n  const response = await axios.post(baseUrl, payload, getConfig());\r\n  return response.data;\r\n};\r\n\r\nconst updateCard = async (payload) => {\r\n  const response = await axios.put(\r\n    `${baseUrl}/${payload.cardId}`,\r\n    payload,\r\n    getConfig()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst deleteCard = async (payload) => {\r\n  const response = await axios.delete(\r\n    `${baseUrl}/${payload.cardId}`,\r\n    getConfig()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport default { newCard, updateCard, deleteCard };\r\n","import axios from \"axios\";\r\nimport { getConfig } from \"../utils/tokenHelper\";\r\nconst baseUrl = \"/api/lists\";\r\n\r\nconst saveList = async (payload) => {\r\n  const response = await axios.post(baseUrl, payload, getConfig());\r\n  return response.data;\r\n};\r\n\r\nconst updateList = async (payload) => {\r\n  const response = await axios.put(\r\n    `${baseUrl}/${payload.listId}`,\r\n    payload,\r\n    getConfig()\r\n  );\r\n  return response.data;\r\n};\r\n\r\nconst deleteList = async (id) => {\r\n  const response = await axios.delete(`${baseUrl}/${id}`, getConfig());\r\n  return response.data;\r\n};\r\n\r\nexport default { saveList, updateList, deleteList };\r\n","import React from \"react\";\r\nimport \"../styles/EditButtons.css\";\r\n\r\nconst EditButtons = ({ handleSave, saveLabel, handleDelete, handleCancel }) => (\r\n  <div className=\"Edit-Buttons\">\r\n    <div\r\n      tabIndex=\"0\"\r\n      className=\"Edit-Button\"\r\n      style={{ backgroundColor: \"#5aac44\" }}\r\n      onClick={handleSave}\r\n    >\r\n      {saveLabel}\r\n    </div>\r\n    {handleDelete && (\r\n      <div\r\n        tabIndex=\"0\"\r\n        className=\"Edit-Button\"\r\n        style={{ backgroundColor: \"#EA2525\", marginLeft: 0 }}\r\n        onClick={handleDelete}\r\n      >\r\n        Delete\r\n      </div>\r\n    )}\r\n    <div tabIndex=\"0\" className=\"Edit-Button-Cancel\" onClick={handleCancel}>\r\n      <ion-icon name=\"close\" />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default EditButtons;\r\n","import \"../styles/CardEditor.css\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport EditButtons from \"./EditButtons\";\r\n\r\nconst CardEditor = ({ cardText, onSave, onCancel, onDelete, adding }) => {\r\n  const [text, setText] = useState(cardText || \"\");\r\n\r\n  const onEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      onSave(text);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"Edit-Card\">\r\n      <div className=\"Card\">\r\n        <TextareaAutosize\r\n          autoFocus\r\n          className=\"Edit-Card-Textarea\"\r\n          placeholder=\"Enter the text for this card...\"\r\n          value={text}\r\n          onChange={({ target }) => setText(target.value)}\r\n          onKeyDown={onEnter}\r\n        />\r\n      </div>\r\n      <EditButtons\r\n        handleSave={() => onSave(text)}\r\n        saveLabel={adding ? \"Add card\" : \"Save\"}\r\n        handleDelete={onDelete}\r\n        handleCancel={onCancel}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(CardEditor);\r\n","import \"../styles/Card.css\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport { changeCardText, deleteCard } from \"../actions/cardActions\";\r\n\r\nimport CardEditor from \"./CardEditor\";\r\n\r\nconst Card = ({ listId, card, changeCardText, deleteCard }) => {\r\n  const [hover, setHover] = useState(false);\r\n  const [editing, setEditing] = useState(false);\r\n  const [text, setText] = useState(\"\");\r\n\r\n  const startHover = () => setHover(true);\r\n  const endHover = () => setHover(false);\r\n\r\n  const startEditing = () => {\r\n    setHover(false);\r\n    setEditing(true);\r\n    setText(card.cardText);\r\n  };\r\n\r\n  const endEditing = () => {\r\n    setHover(false);\r\n    setEditing(false);\r\n  };\r\n\r\n  const editCard = (text) => {\r\n    endEditing();\r\n    changeCardText(card._id, text);\r\n  };\r\n\r\n  const handleDeleteCard = () => {\r\n    deleteCard(card._id, listId);\r\n    endEditing();\r\n  };\r\n\r\n  if (!editing) {\r\n    return (\r\n      <Draggable draggableId={card._id} index={card.cardIndex}>\r\n        {(provided, snapshot) => (\r\n          <div\r\n            ref={provided.innerRef}\r\n            {...provided.draggableProps}\r\n            {...provided.dragHandleProps}\r\n            className=\"Card\"\r\n            onMouseEnter={startHover}\r\n            onMouseLeave={endHover}\r\n          >\r\n            {hover && (\r\n              <div className=\"Card-Icons\">\r\n                <div className=\"Card-Icon\" onClick={startEditing}>\r\n                  <ion-icon name=\"create\" />\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {card.cardText}\r\n          </div>\r\n        )}\r\n      </Draggable>\r\n    );\r\n  } else {\r\n    return (\r\n      <CardEditor\r\n        cardText={card.cardText}\r\n        onSave={editCard}\r\n        onDelete={handleDeleteCard}\r\n        onCancel={endEditing}\r\n        listId={listId}\r\n      />\r\n    );\r\n  }\r\n};\r\n\r\n// const mapStateToProps = (state, ownProps) => ({\r\n//   card: state.cards[ownProps.cardId],\r\n// });\r\n\r\nconst mapDispatchToProps = {\r\n  changeCardText,\r\n  deleteCard,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Card);\r\n","import cardService from \"../services/card\";\r\n\r\nexport const addCard = (cardText, listId) => {\r\n  return async (dispatch) => {\r\n    const newCard = await cardService.newCard({\r\n      listId,\r\n      cardText,\r\n    });\r\n\r\n    try {\r\n      dispatch({\r\n        type: \"ADD_CARD\",\r\n        payload: {\r\n          _id: newCard._id,\r\n          cardText,\r\n          listId,\r\n          cardIndex: newCard.cardIndex,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const moveCard = (\r\n  cardId,\r\n  oldListId,\r\n  newListId,\r\n  oldCardIndex,\r\n  newCardIndex\r\n) => {\r\n  return async (dispatch) => {\r\n    cardService.updateCard({\r\n      cardId,\r\n      oldListId,\r\n      newListId,\r\n      oldCardIndex,\r\n      newCardIndex,\r\n      changeType: \"moveCard\",\r\n    });\r\n\r\n    try {\r\n      dispatch({\r\n        type: \"MOVE_CARD\",\r\n        payload: {\r\n          oldListId,\r\n          newListId,\r\n          oldCardIndex,\r\n          newCardIndex,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const changeCardText = (cardId, cardText) => {\r\n  return async (dispatch) => {\r\n    cardService.updateCard({\r\n      cardId,\r\n      cardText,\r\n      changeType: \"changeTitle\",\r\n    });\r\n\r\n    try {\r\n      dispatch({\r\n        type: \"CHANGE_CARD_TEXT\",\r\n        payload: { _id: cardId, cardText },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteCard = (cardId, listId) => {\r\n  return async (dispatch) => {\r\n    cardService.deleteCard({\r\n      cardId,\r\n    });\r\n    try {\r\n      dispatch({\r\n        type: \"DELETE_CARD\",\r\n        payload: { cardId, listId },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n","import React, { useRef, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport \"../styles/ListEditor.css\";\r\n\r\nconst ListEditor = ({\r\n  title,\r\n  handleChangeTitle,\r\n  deleteList,\r\n  saveList,\r\n  onClickOutside,\r\n}) => {\r\n  const ref = useRef();\r\n  const handleClick = (e) => {\r\n    const node = ref.current;\r\n    if (node.contains(e.target)) {\r\n      return;\r\n    }\r\n    onClickOutside();\r\n  };\r\n  useEffect(() => {\r\n    document.addEventListener(\"click\", handleClick, false);\r\n    return () => {\r\n      document.removeEventListener(\"click\", handleClick, false);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const onEnter = (e) => {\r\n    if (e.keyCode === 13) {\r\n      e.preventDefault();\r\n      saveList();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"List-Title-Edit\" ref={ref}>\r\n      <TextareaAutosize\r\n        autoFocus\r\n        className=\"List-Title-Textarea\"\r\n        placeholder=\"Enter list title...\"\r\n        value={title}\r\n        onChange={handleChangeTitle}\r\n        onKeyDown={onEnter}\r\n        style={{ width: deleteList ? 220 : 245 }}\r\n      />\r\n      {deleteList && <ion-icon name=\"trash\" onClick={deleteList} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  list: state.lists[ownProps.listId],\r\n});\r\n\r\n// const mapDispatchToProps = {\r\n//   TBC\r\n// };\r\n\r\nexport default connect(mapStateToProps)(ListEditor);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Droppable, Draggable } from \"react-beautiful-dnd\";\r\n\r\nimport { addCard } from \"../actions/cardActions\";\r\nimport { changeListTitle, deleteList } from \"../actions/listActions\";\r\n\r\nimport Card from \"./Card\";\r\nimport CardEditor from \"./CardEditor\";\r\nimport ListEditor from \"./ListEditor\";\r\n\r\nimport \"../styles/List.css\";\r\n\r\nconst List = ({\r\n  list,\r\n  cards,\r\n  index,\r\n  addCard,\r\n  changeListTitle,\r\n  deleteList,\r\n  isFetching,\r\n}) => {\r\n  const [editingTitle, setEditingTitle] = useState(false);\r\n  const [title, setTitle] = useState(list.listTitle);\r\n  const [addingCard, setAddingCard] = useState(false);\r\n\r\n  const toggleAddingCard = () => setAddingCard(!addingCard);\r\n\r\n  const handleAddCard = (cardText) => {\r\n    toggleAddingCard();\r\n    addCard(cardText, list._id);\r\n  };\r\n\r\n  const toggleEditingTitle = () => setEditingTitle(!editingTitle);\r\n\r\n  const handleChangeTitle = (e) => setTitle(e.target.value);\r\n\r\n  const editListTitle = () => {\r\n    toggleEditingTitle();\r\n    changeListTitle(list.board, list._id, title);\r\n  };\r\n\r\n  const handleDeleteList = () => {\r\n    deleteList(list._id);\r\n  };\r\n\r\n  if (isFetching) {\r\n    return null;\r\n  }\r\n  return (\r\n    <Draggable draggableId={list._id} index={index}>\r\n      {(provided, snapshot) => (\r\n        <div\r\n          ref={provided.innerRef}\r\n          {...provided.draggableProps}\r\n          {...provided.dragHandleProps}\r\n          className=\"List\"\r\n        >\r\n          {editingTitle ? (\r\n            <ListEditor\r\n              list={list}\r\n              title={title}\r\n              handleChangeTitle={handleChangeTitle}\r\n              saveList={editListTitle}\r\n              onClickOutside={editListTitle}\r\n              deleteList={handleDeleteList}\r\n            />\r\n          ) : (\r\n            <div className=\"List-Title\" onClick={() => toggleEditingTitle()}>\r\n              {list.listTitle}\r\n            </div>\r\n          )}\r\n\r\n          <Droppable droppableId={list._id}>\r\n            {(provided, _snapshot) => (\r\n              <div ref={provided.innerRef}>\r\n                {cards.length > 0 &&\r\n                  cards.map((c, i) => (\r\n                    <Card key={i} card={c} listId={list._id} />\r\n                  ))}\r\n\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n\r\n          {addingCard ? (\r\n            <CardEditor\r\n              onSave={handleAddCard}\r\n              onCancel={toggleAddingCard}\r\n              listId={list._id}\r\n              adding\r\n            />\r\n          ) : (\r\n            <div className=\"Toggle-Add-Card\" onClick={toggleAddingCard}>\r\n              <ion-icon name=\"add\" /> Add a card\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </Draggable>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  isFetching: state.nav.isFetching,\r\n  cards: state.cards\r\n    .filter((c) => c.list === ownProps.list._id)\r\n    .sort((a, b) => a.cardIndex - b.cardIndex),\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  addCard,\r\n  changeListTitle,\r\n  deleteList,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(List);\r\n","import listService from \"../services/list\";\r\n\r\nexport const addList = (listTitle, boardId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const list = await listService.saveList({ listTitle, boardId });\r\n      const { _id, listIndex } = list;\r\n\r\n      dispatch({\r\n        type: \"ADD_LIST\",\r\n        payload: {\r\n          _id,\r\n          listTitle,\r\n          listIndex,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const changeListTitle = (boardId, listId, listTitle) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await listService.updateList({\r\n        boardId,\r\n        listId,\r\n        listTitle,\r\n        changeType: \"changeTitle\",\r\n      });\r\n\r\n      dispatch({\r\n        type: \"CHANGE_LIST_TITLE\",\r\n        payload: { listId, listTitle },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteList = (listId) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      await listService.deleteList(listId);\r\n\r\n      dispatch({\r\n        type: \"DELETE_LIST\",\r\n        payload: { listId },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n\r\nexport const moveList = (boardId, listId, oldListIndex, newListIndex) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      listService.updateList({\r\n        boardId,\r\n        listId,\r\n        oldListIndex,\r\n        newListIndex,\r\n        changeType: \"moveList\",\r\n      });\r\n\r\n      dispatch({\r\n        type: \"MOVE_LIST\",\r\n        payload: {\r\n          listId,\r\n          oldListIndex,\r\n          newListIndex,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addList } from \"../actions/listActions\";\r\nimport ListEditor from \"./ListEditor\";\r\nimport EditButtons from \"./EditButtons\";\r\nimport \"../styles/AddList.css\";\r\n\r\nconst AddList = ({ toggleAddingList, addList, boardId }) => {\r\n  const [listTitle, setListTitle] = useState(\"\");\r\n\r\n  const handleChangeTitle = (e) => setListTitle(e.target.value);\r\n\r\n  const createList = () => {\r\n    toggleAddingList();\r\n    addList(listTitle, boardId);\r\n  };\r\n\r\n  return (\r\n    <div className=\"Add-List-Editor\">\r\n      <ListEditor\r\n        title={listTitle}\r\n        handleChangeTitle={handleChangeTitle}\r\n        onClickOutside={toggleAddingList}\r\n        saveList={createList}\r\n      />\r\n\r\n      <EditButtons\r\n        handleSave={createList}\r\n        saveLabel={\"Add list\"}\r\n        handleCancel={toggleAddingList}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  addList,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(AddList);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { DragDropContext, Droppable } from \"react-beautiful-dnd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport PageHeader from \"./PageHeader\";\r\nimport List from \"./List\";\r\nimport AddList from \"./AddList\";\r\nimport { getBoard } from \"../actions/boardActions\";\r\nimport { moveList } from \"../actions/listActions\";\r\nimport { moveCard } from \"../actions/cardActions\";\r\nimport \"../styles/Board.scss\";\r\n\r\nconst Board = ({ moveList, moveCard, getBoard, lists, isFetching }) => {\r\n  const boardId = useParams().id;\r\n  useEffect(() => {\r\n    getBoard(boardId);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const [addingList, setAddingList] = useState(false);\r\n\r\n  const toggleAddingList = () => setAddingList(!addingList);\r\n\r\n  const handleDragEnd = ({ draggableId, source, destination, type }) => {\r\n    // dropped outside the allowed zones\r\n    if (!destination) return;\r\n\r\n    // Move list\r\n    if (type === \"COLUMN\") {\r\n      // Prevent update if nothing has changed\r\n      if (source.index !== destination.index) {\r\n        const list = lists.filter((l) => l.listIndex === source.index);\r\n        moveList(boardId, list[0]._id, source.index, destination.index);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // Move card\r\n    if (\r\n      source.index !== destination.index ||\r\n      source.droppableId !== destination.droppableId\r\n    ) {\r\n      moveCard(\r\n        draggableId,\r\n        source.droppableId,\r\n        destination.droppableId,\r\n        source.index,\r\n        destination.index\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader header={\"Board\"} />\r\n      {isFetching ? null : (\r\n        <section className=\"h100 w100 board-section\">\r\n          <DragDropContext onDragEnd={handleDragEnd}>\r\n            <Droppable droppableId=\"board\" direction=\"horizontal\" type=\"COLUMN\">\r\n              {(provided, _snapshot) => (\r\n                <div className=\"board\" ref={provided.innerRef}>\r\n                  {lists.map((l, i) => {\r\n                    return <List list={l} key={l._id} index={i} />;\r\n                  })}\r\n                  {provided.placeholder}\r\n                  <div className=\"add-list\">\r\n                    {addingList ? (\r\n                      <AddList\r\n                        toggleAddingList={toggleAddingList}\r\n                        boardId={boardId}\r\n                      />\r\n                    ) : (\r\n                      <div\r\n                        onClick={toggleAddingList}\r\n                        className=\"add-list-button\"\r\n                      >\r\n                        <ion-icon name=\"add\" /> Add a list\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </Droppable>\r\n          </DragDropContext>\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  lists: state.lists.sort((a, b) => a.listIndex - b.listIndex),\r\n  isFetching: state.nav.isFetching,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  moveList,\r\n  moveCard,\r\n  getBoard,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Board);\r\n","export const required = value => (value ? undefined : \"Required\");\r\n\r\nexport const mustBeNumber = value =>\r\n  isNaN(value) ? \"Must be a number\" : undefined;\r\n\r\nexport const minValue = min => value =>\r\n  isNaN(value) || value >= min ? undefined : `Should be greater than ${min}`;\r\n\r\nexport const maxValue = max => value =>\r\n  isNaN(value) || value <= max\r\n    ? undefined\r\n    : `Should be less than ${max ? max : \"house price\"}`;\r\n\r\nexport const minLength = min => value =>\r\n  value.length < min ? `Should be greater than ${min} characters` : undefined;\r\n\r\nexport const maxLength = max => value =>\r\n  value.length > max ? `Should be less than ${max} characters` : undefined;\r\n\r\nexport const isEmail = value => {\r\n  const email = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n  return email.test(value) ? undefined : \"Please use valid email address\";\r\n};\r\n\r\nexport const equalTo = match => value =>\r\n  value === match ? undefined : \"Passwords must match\";\r\n\r\nexport const composeValidators = (...validators) => value =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport PageHeader from \"./PageHeader\";\r\nimport { updateUser, deleteUser } from \"../actions/userActions\";\r\n// import { setNotification } from \"../reducers/notificationReducer\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport {\r\n  required,\r\n  minLength,\r\n  isEmail,\r\n  composeValidators,\r\n} from \"../utils/formValidator\";\r\nimport \"../styles/Settings.scss\";\r\n\r\nconst Settings = ({ updateUser, deleteUser, user, isFetching }) => {\r\n  const userDetails = {\r\n    oldEmail: user.email,\r\n    id: user.id,\r\n  };\r\n\r\n  const handleEmailChange = async (values) => {\r\n    // React final form handles e.preventDefault()\r\n    const confirm = window.confirm(\r\n      `Change email from ${userDetails.oldEmail} to ${values.newEmail}?`\r\n    );\r\n    if (confirm) {\r\n      await updateUser({\r\n        newEmail: values.newEmail,\r\n        ...userDetails,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handlePasswordChange = async (values) => {\r\n    // React final form handles e.preventDefault()\r\n    const { oldPassword, newPassword, checkPassword } = values;\r\n    await updateUser({\r\n      oldPassword,\r\n      newPassword,\r\n      checkPassword,\r\n      ...userDetails,\r\n    });\r\n  };\r\n\r\n  const handleDelete = async ({ password }) => {\r\n    // React final form handles e.preventDefault()\r\n    const confirm = window.confirm(`Delete ${userDetails.username}?`);\r\n    if (confirm) {\r\n      await deleteUser(password, user.id);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageHeader header={\"User Settings\"} />\r\n      <section className=\"flex-col-center\">\r\n        {isFetching ? null : (\r\n          <>\r\n            <div className=\"form-wrapper\">\r\n              <div className=\"form-header\">\r\n                <h1>Change Email</h1>\r\n              </div>\r\n              <div className=\"form-current-email\">Current: {user.email}</div>\r\n              <FinalForm\r\n                onSubmit={handleEmailChange}\r\n                render={({ handleSubmit, values }) => (\r\n                  <form className=\"form-element\" onSubmit={handleSubmit}>\r\n                    <Field\r\n                      name=\"newEmail\"\r\n                      validate={composeValidators(\r\n                        required,\r\n                        minLength(3),\r\n                        isEmail\r\n                      )}\r\n                    >\r\n                      {({ input, meta }) => (\r\n                        <div>\r\n                          <input\r\n                            className=\"form-control\"\r\n                            placeholder=\"new@email.com\"\r\n                            type=\"email\"\r\n                            {...input}\r\n                          />\r\n                          <div className=\"form-error\">\r\n                            {meta.error && meta.touched && meta.error}\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </Field>\r\n                    <div className=\"form-button-container\">\r\n                      <button\r\n                        className=\"form-button login-button-primary\"\r\n                        type=\"submit\"\r\n                      >\r\n                        Update\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-wrapper\">\r\n              <div className=\"form-header\">\r\n                <h1>Change Password</h1>\r\n              </div>\r\n              <div className=\"form-inner-container\">\r\n                <FinalForm\r\n                  onSubmit={handlePasswordChange}\r\n                  validate={(values) => {\r\n                    const errors = {};\r\n                    if (!values.checkPassword) {\r\n                      errors.checkPassword = \"Required\";\r\n                    }\r\n                    if (values.newPassword !== values.checkPassword) {\r\n                      errors.checkPassword = \"Passwords must match\";\r\n                    }\r\n                    return errors;\r\n                  }}\r\n                  render={({ handleSubmit, values }) => (\r\n                    <form className=\"form-element\" onSubmit={handleSubmit}>\r\n                      <Field\r\n                        name=\"oldPassword\"\r\n                        validate={composeValidators(required, minLength(3))}\r\n                      >\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              placeholder=\"Old Password\"\r\n                              type=\"password\"\r\n                              {...input}\r\n                            />\r\n                            <div className=\"form-error\">\r\n                              {meta.error && meta.touched && meta.error}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                      <Field\r\n                        name=\"newPassword\"\r\n                        validate={composeValidators(required, minLength(3))}\r\n                      >\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              placeholder=\"New Password\"\r\n                              type=\"password\"\r\n                              {...input}\r\n                            />\r\n                            <div className=\"form-error\">\r\n                              {meta.error && meta.touched && meta.error}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                      <Field name=\"checkPassword\">\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              placeholder=\"Confirm New Password\"\r\n                              type=\"password\"\r\n                              {...input}\r\n                            />\r\n                            <div className=\"form-error\">\r\n                              {meta.error && meta.touched && meta.error}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                      <div className=\"form-button-container\">\r\n                        <button className=\"form-button\" type=\"submit\">\r\n                          Update\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-wrapper\">\r\n              <div className=\"form-header\">\r\n                <h1>Delete Account</h1>\r\n              </div>\r\n              <div className=\"form-inner-container\">\r\n                <FinalForm\r\n                  onSubmit={handleDelete}\r\n                  render={({ handleSubmit, values }) => (\r\n                    <form className=\"form-element\" onSubmit={handleSubmit}>\r\n                      <Field\r\n                        name=\"password\"\r\n                        validate={composeValidators(required, minLength(3))}\r\n                      >\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <input\r\n                              className=\"form-control\"\r\n                              placeholder=\"Password\"\r\n                              type=\"password\"\r\n                              {...input}\r\n                            />\r\n                            <div className=\"form-error\">\r\n                              {meta.error && meta.touched && meta.error}\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                      <div className=\"form-button-container\">\r\n                        <button className=\"form-button\" type=\"submit\">\r\n                          Delete\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    isFetching: state.nav.isFetching,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  updateUser,\r\n  deleteUser,\r\n  //   setNotification\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { initUser } from \"./actions/userActions\";\r\n\r\nimport Notifications from \"./components/Notifications\";\r\nimport Login from \"./components/Login\";\r\nimport Menu from \"./components/Menu\";\r\nimport Boards from \"./components/Boards\";\r\nimport CreateBoardOverlay from \"./components/CreateBoard.Overlay\";\r\nimport Board from \"./components/Board\";\r\nimport Settings from \"./components/Settings\";\r\n\r\nimport \"./styles/App.scss\";\r\n\r\nconst App = ({ initUser, user, boards, lists, cards }) => {\r\n  const [loading, setLoading] = useState(true);\r\n  useEffect(() => {\r\n    initUser();\r\n    setLoading(false);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <section className=\"w100 h100 flex-col-center\">\r\n        <div className=\"m30 h100 lds-ring\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n        <div>loading...</div>\r\n      </section>\r\n    );\r\n  } else {\r\n    return (\r\n      <>\r\n        <div className=\"app-wrapper flex-row\">\r\n          <Router>\r\n            <Switch>\r\n              {user ? (\r\n                <>\r\n                  <Menu />\r\n                  <Notifications />\r\n                  <CreateBoardOverlay />\r\n                  <div className=\"h100 w100 flex-col page-wrapper\">\r\n                    <Route exact path=\"/\" render={() => <Boards />} />\r\n                    <Route path=\"/board/:id\" render={() => <Board />} />\r\n                    <Route path=\"/settings\" render={() => <Settings />} />\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Login />\r\n                  <Notifications />\r\n                </>\r\n              )}\r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    user: state.user,\r\n    cards: state.cards,\r\n    lists: state.lists,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  initUser,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport App from \"./App\";\r\nimport \"./styles/index.css\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n","module.exports = __webpack_public_path__ + \"static/media/login-icon.30845892.svg\";"],"sourceRoot":""}